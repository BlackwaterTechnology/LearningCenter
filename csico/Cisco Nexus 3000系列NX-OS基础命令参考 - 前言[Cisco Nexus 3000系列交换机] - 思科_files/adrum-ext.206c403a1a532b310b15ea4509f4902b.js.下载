;/* Version 206c403a1a532b310b15ea4509f4902b v:4.2.10.0, c:6532cefd199135b490e9c346aa5d1cb9e50ceae7, b:9022 n:2-4.2.10.next-build */(function(){/*


 Copyright (c) 2013, AppDynamics, Inc. All rights reserved.

 Derivative of Google Episodes:

 Copyright 2010 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 See the source code here:
 http://code.google.com/p/episodes/
*/
new function(){var g=window.ADRUM;if(g&&g.q&&!0!==window["adrum-disable"]){(function(a){(function(e){e.Q=function(f){function c(a){return a.replace(/\s/g,"")===d}var b={a:[1,2,3,"str"]},d='{"a":[1,2,3,"str"]}';if("undefined"!==typeof JSON&&JSON&&e.isFunction(JSON.stringify)&&c(JSON.stringify(b)))return JSON.stringify(f);if("undefined"!==typeof Object&&Object&&e.isFunction(Object.toJSON)&&c(Object.toJSON(b)))return Object.toJSON(f);a.error("M65");return null};e.Ea=function(f,c,b){var d=f,h=b;"xhr"===
b&&(d=document.createElement("div"),f.appendChild(d),h="xhr_"+f.getElementsByTagName("div").length);f=document.createElement("p");f.innerHTML="Script loaded from "+a.conf.adrumExtUrl+". Metrics collected are:";d.appendChild(f);f=document.createElement("table");f.id="ADRUM_"+h;var h=document.createElement("tbody"),m;for(m in c){b=document.createElement("tr");var e=document.createElement("td");e.innerHTML=m;e.className="name";var k=document.createElement("td");k.innerHTML=String(c[m]);k.className="value";
b.appendChild(e);b.appendChild(k);h.appendChild(b)}f.appendChild(h);d.appendChild(f)};e.nf=function(){function a(c,b){try{if("object"!=typeof c)return String(c);if(0<=e.ya(b,c))return"Already visited";b.push(c);var d;if(e.isArray(c)){for(var h="[ ",m=0;m<c.length;m++)0!=m&&(h+=", "),h+=a(c[m],b);d=h+" ]"}else{var h="{ ",m=!0,r;for(r in c)m?m=!1:h+=", ",h+=a(r,b)+" => "+a(c[r],b);d=h+" }"}return d}catch(k){return"dumpObject failed: "+k}}return function(c){return a(c,[])}}();e.ya=e.isFunction(Array.prototype.indexOf)?
function(a,c){return a.indexOf(c)}:function(a,c){for(var b=0;b<a.length;b++)if(a[b]==c)return b;return-1};e.compareWindows=function(a,c){return a==c};e.Ja=function(a,c,b,d,h){if(!e.isDefined(c))return c;if(e.isArray(c)){a=[];for(var m=0,r=c.length;m<r;m++)a[m]=e.Ja(m,c[m],b,d,h);return a}if(e.isFunction(c))return c;if(e.isObject(c)){a={};for(m in c)e.hasOwnPropertyDefined(c,m)&&(a[b(m)]=h&&h(m)?c[m]:e.Ja(m,c[m],b,d,h));return a}return d(a,c)};e.pg=function(a){var c=[],b;for(b in a)e.hasOwnPropertyDefined(a,
b)&&c.push([b,a[b]]);return c};e.$g=function(){try{localStorage.setItem("try","try");var a=localStorage.getItem("try");localStorage.removeItem("try");return"try"===a}catch(c){return!1}};e.Zg=function(){try{var a=e.Q({v:1});return 1===JSON.parse(a).v}catch(c){return!1}};e.ah=function(){return e.isFunction(window.postMessage)};e.ef=function(a,c){var b=document.createElement("div");b.innerHTML='<iframe id="'+c+'" src='+a+' width="0" height="0" tabindex="-1" title="empty" style="display: none;"></iframe>';
document.body.appendChild(b);return document.getElementById(c)};e.Rg=function(a,c){e.isDefined(c)&&(a.parentPageName=c)}})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(a){a.kd=function(a){return/^[0-9]+$/.test(a)?Number(a):null};a.zc=function(a){return"number"===typeof a&&!isNaN(a)&&isFinite(a)}})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(e){function f(d){var b=d.split("\r\n"),c=/^\s*ADRUM_(\d+): (.+)\s*$/i;d=[];for(var e=0;e<b.length;e++){var f=b[e];try{var g=c.exec(f);
g&&d.push([Number(g[1]),g[2]])}catch(l){a.exception(l,"M68",f)}}Array.prototype.sort.call(d,function(a,d){return a[0]-d[0]});g=[];for(b=0;b<d.length;b++)g.push(d[b][1]);return g}var c=a.utils.hasOwnPropertyDefined,b=null,d=null;e.qc=function(){d||(d=e.Kc(e.Qa(e.cookieMetadataChunks),e.Qa(a.footerMetadataChunks)));return d};e.getPageGUID=function(){if(!b){var d=e.qc();b=d&&d.clientRequestGUID||a.utils.generateGUID()}return b};e.Kf=function(d){d=f(d);a.log("M66",d);return e.Kc(e.Qa(d))};e.Kc=function(d,
b){function c(d){for(var b=0;b<d.length;b++){var h=d[b];h!=f&&0>a.utils.ya(l,h)&&l.push(h)}}if(!d||0>=d.L.length)return null;b||(b=d);var f;if(0<b.L.length){if(f=b.L[0],0>a.utils.ya(d.L,f))return null}else return a.error("M67"),null;var g=b.serverSnapshotType||d.serverSnapshotType,n=b.hasEntryPointErrors||d.hasEntryPointErrors,l=[];c(d.L);c(b.L);var q={clientRequestGUID:f,btGlobalAccountName:d.btGlobalAccountName};0<l.length&&(q.otherClientRequestGUIDs=l);0<e.Jc(d.btTime,b.btTime).length&&(q.btTime=
e.Jc(d.btTime,b.btTime));null!==g&&(q.serverSnapshotType=g);null!==n&&(q.hasEntryPointErrors=n);return q};e.Jc=function(a,d){for(var b=a.concat(d),e={},f={},g=0;g<b.length;g++){var l=b[g];l.id in e||(e[l.id]=-1);e[l.id]=Math.max(e[l.id],l.duration);l.id in f||(f[l.id]=-1);f[l.id]=Math.max(f[l.id],l.ert)}var b=[],q;for(q in e)c(e,q)&&b.push({id:q,duration:e[q],ert:f[q]});return b};e.Qa=function(d){if(!a.utils.isArray(d))return null;for(var b=[],c=null,e=[],f=null,g=null,l=0;l<d.length;l++){var q=d[l];
if("string"!==typeof q)return null;q=q.replace(/^"|"$/g,"");q=decodeURIComponent(q).split(",")[0].replace(/^\s+|\s+$/g,"").split(":");if(2===q.length){var s=q[1];switch(q[0]){case "clientRequestGUID":case "g":b.push(s);break;case "btId":case "i":e.push({id:s,duration:-1,ert:-1});break;case "btDuration":case "d":if(0===e.length)return null;q=a.utils.kd(s);if(!a.utils.zc(q)||-1>q)return null;e[e.length-1].duration=q;break;case "btERT":case "e":if(0===e.length)return null;q=a.utils.kd(s);if(!a.utils.zc(q)||
-1>q)return null;e[e.length-1].ert=q;break;case "serverSnapshotType":case "s":f=s;break;case "globalAccountName":case "n":c=s;break;case "hasEntryPointErrors":case "h":g=s}}}return 0===b.length?null:{L:b,btGlobalAccountName:c,btTime:e,serverSnapshotType:f,hasEntryPointErrors:g}};e.Wh=f})(a.correlation||(a.correlation={}))})(g||(g={}));(function(a){var e=a.conf||(a.conf={});e.vh=3E3;e.od=a.isDebug;e.Ke=1E3;e.ee=2;e.de=5;e.Zd=5;e.$d=20;e.xb=5E3;e.I=512;e.pe=140;e.se=10;e.ne=30;e.re=10;e.te=30;e.oe=
30;e.qe=20;e.je=100;e.zb=2048;e.ve=2048;e.Hc={eumAppKey:"ky",userPageName:"un",clientRequestGUID:"cg",otherClientRequestGUIDs:"og",baseGUID:"bg",parentGUID:"mg",parentPageUrl:"mu",parentPageType:"mt",parentLifecyclePhase:"pp",pageType:"pt",pageUrl:"pu",pageReferrer:"pr",pageTitle:"pl",pageName:"pn",navOrXhrMetrics:"mn",cookieMetrics:"mc",resourceTimingInfo:"rt",userData:"ud",userDataLong:"udl",userDataDouble:"udd",userDataBoolean:"udb",userDataDate:"udt",errors:"er",ajaxError:"ae",btGlobalAccountName:"btgan",
btTime:"bt",serverSnapshotType:"ss",hasEntryPointErrors:"se",dataType:"dt",geoCountry:"gc",geoRegion:"gr",geoCity:"gt",localIP:"lp",ip:"ip",BEACONS:"B",ver:"vr",eom:"em",agentId:"ai",rootGUID:"rg",events:"es",guids:"gs",urlParts:"up",sequenceId:"si",eventType:"et",eventGUID:"eg",parentType:"at",serverMetadata:"sm",eventUrl:"eu",line:"ln",message:"dm",duration:"dn",id:"id",ert:"ert",parentUrl:"au",parentPageName:"an",geo:"ge",metrics:"mx",timestamp:"ts",country:"c",region:"r",city:"t",method:"md"}})(g||
(g={}));(function(a){(function(a){var f=function(){function a(){this.Tc=/;jsessionid=[^/?]+/}a.Vg=function(a){for(var d=0,h=0;h<a.length;h++)d=(d<<5)-d+a.charCodeAt(h),d|=0;return d};a.prototype.G=function(a){if(null===a||void 0===a)return null;var d=a.match(this.Tc);if(null!=d){var h=a.indexOf("?");if(0>h||h>d.index)return a.replace(this.Tc,"")}return a};a.prototype.ec=function(a){if(null===a||void 0===a)return null;var d=a.indexOf("?"),h=a.indexOf("#");0>d&&(d=Number.MAX_VALUE);0>h&&(h=Number.MAX_VALUE);
return a.substring(0,Math.min(d,h))};a.prototype.zg=function(b){if(null===b||void 0===b)return null;var d=this.ec(b);return d+"?"+a.Vg(b.substring(d.length))};return a}();a.Ah=f;a.n=new f})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(e){e.$=function(a,c){if(3>=c)return"...";a.length>c&&(a=a.substring(0,c-3)+"...");return a};e.gh=function(a,c){if(3>=c)return"...";a.length>c&&(a=a.substring(0,(c-3)/2)+"..."+a.substring(a.length-(c-3)/2,a.length));return a};e.hh=function(a,c){a.length<=
c||(a=e.$(a,c-1),a+=":");return a};e.fh=function(a,c,b,d,h,m){a=e.hh(a,d);c=e.$(c,h);b=e.$(b,m);return 0<b.length?a+"//"+c+":"+b:a+"//"+c};e.ih=function(f,c,b,d,h,m,g,k){b=e.fh(f.protocol,f.hostname,f.port,b,d,h);g=e.$(f.search,g);k=e.$(f.hash,k);f=f.pathname.split("/");d="";0<f.length&&(d=f.pop(),d=e.gh(d,m));for(m=0==f.length?b+d+g+k:b+f.join("/")+"/"+d+g+k;m.length>c;){if(0>=f.length)return a.error("M69"),null;f.pop();f.push("...");m=0==f.length?b+d+g+k:b+f.join("/")+"/"+d+g+k;f.pop()}return m}})(a.utils||
(a.utils={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.Ka=function(){for(var b=0;b<a.ub.length;b++)a.C[a.ub[b]]=a.s.Qd;for(b=0;b<a.sb.length;b++)a.C[a.sb[b]]=a.s.Nd;a.C.js=a.s.De;a.C.css=a.s.CSS;a.C.svg=a.s.Fe;a.C.html=a.s.tb;a.C.htm=a.s.tb};a.Ha=function(a){return a.duration?a.duration:a.responseEnd&&a.startTime?a.responseEnd-a.startTime:-1};a.oc=function(b){var d;return(b=b.pathname)&&-1!=(d=b.lastIndexOf("."))?a.C[b.substring(d+1,b.length).toLowerCase()]||a.s.Cb:
a.s.Cb};a.s={Qd:"img",De:"script",CSS:"css",Fe:"svg",tb:"html",Nd:"font",Cb:"other"};a.ub="bmp gif jpeg jpg png webp".split(" ");a.sb=["ttf","woff","otf","eot"];a.C={};return a}();a.U=f;f.Ka()})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(b){function d(a){h.marks.push(0==b[a]?-1:Math.round(b[a]-h.Mc))}this.marks=[];var h=this;this.Mc=b.startTime;this.Zf(b)?(this.gc=a.pb,d("startTime"),d("fetchStart")):(this.gc=a.Fb,d("startTime"),d("redirectStart"),
d("redirectEnd"),d("fetchStart"),d("domainLookupStart"),d("domainLookupEnd"),d("connectStart"),d("connectEnd"),d("requestStart"),d("responseStart"));d("responseEnd")}a.Ef=function(){var b={};b[a.Fb]=a.Ce;b[a.pb]=a.Gd;return b};a.prototype.Zf=function(a){return this.A(a.redirectStart)&&this.A(a.redirectEnd)&&this.A(a.domainLookupStart)&&this.A(a.domainLookupEnd)&&this.A(a.connectStart)&&this.A(a.connectEnd)&&this.A(a.requestStart)&&this.A(a.responseStart)&&this.A(a.secureConnectionStart)};a.prototype.A=
function(a){return!a||0===a};a.Fb=1;a.pb=2;a.Ce="startTime redirectStart redirectEnd fetchStart dnsLookupStart dnsLookupEnd connectStart connectEnd requestStart responseStart responseEnd".split(" ");a.Gd=["startTime","fetchStart","responseEnd"];return a}();a.Eb=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.prototype.pa=function(a,d){if(a)return a.slice(0,d)};return a}();a.Od=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=
function(){function c(){}c.prototype.pa=function(b,d){if(b){if(b.length<=d)return b;for(var h=[],c=0;c<b.length;c++)h.push({Va:b[c],index:c});h.sort(function(d,b){return-(a.U.Ha(d.Va)-a.U.Ha(b.Va))});h=h.slice(0,d);h.sort(function(a,d){return a.index-d.index});for(var f=[],c=0;c<h.length;c++)f.push(h[c].Va);return f}};return c}();a.Ib=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(){function c(){}c.prototype.pa=function(b,d){if(b){if(b.length<=d)return b;for(var h=
1,c=Math.floor(Number.MAX_VALUE/4),f=b.length;h<c;){for(var g=b.length-1;0<=g;g--)if(a.U.Ha(b[g])<h&&(b.splice(g,1),f--),f<=d)return b;h*=4}return(new a.Ib).pa(b,d)}};return c}();a.Be=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(e){var f=a.utils.hasOwnPropertyDefined,c=function(){function d(h,c){this.version=2;this.resourceTimingInfo={};this.xc={};this.yc={};this.Vc={};this.Wc={};this.Wa=[];this.Pe=function(d,h){if(d&&h&&0<h.length){this.dh=d;for(var c=new b,m=new b,f=0;f<h.length;f++){var g=
h[f],r=a.utils.parseURI(a.utils.n.G(g.name)),y=g.initiatorType,z=e.U.oc(r),w=new e.Eb(g);this.Wa.push({u:this.jh(r),i:c.kc(this.yc,y),r:m.kc(this.Wc,z),f:w.gc,o:0===f&&g.isBase?1:Math.round(w.Mc),m:w.marks})}}};var f=d.Bf();this.Ze(f,h);h=this.Mg(f,h);this.Pe(c||a.monitor.perfMonitor.navTiming&&a.monitor.perfMonitor.navTiming.navigationStart,h)}d.Ka=function(){var b=a.conf.userConf&&a.conf.userConf.resTiming&&a.conf.userConf.resTiming.sampler;d.Lg=b&&"FirstN"==b?new e.Od:b&&"TopN"==b?new e.Ib:new e.Be};
d.prototype.vc=function(a,d){a[d]=a[d]?a[d]+1:1};d.prototype.jh=function(d){return a.utils.ih(d,a.conf.pe,a.conf.se,a.conf.ne,a.conf.re,a.conf.qe,a.conf.te,a.conf.oe)};d.prototype.Ze=function(a,d){a&&this.wc(a);if(d&&0<d.length)for(var b=0;b<d.length;b++)this.wc(d[b])};d.prototype.wc=function(d){var b=a.utils.parseURI(a.utils.n.G(d.name)),b=e.U.oc(b);this.vc(this.xc,d.initiatorType);this.vc(this.Vc,b)};d.prototype.Mg=function(b,c){if(c&&0<c.length){var e=a.conf.userConf&&a.conf.userConf.resTiming&&
a.conf.userConf.resTiming.maxNum||a.conf.je;b&&e--;c=d.Lg.pa(c,e);b&&c.unshift(b)}return c};d.prototype.build=function(){return 0==this.Wa.length?null:{v:this.version,ic:this.xc,it:this.yc,rc:this.Vc,rt:this.Wc,f:e.Eb.Ef(),t:this.dh,r:this.Wa}};d.Bf=function(){var d=a.monitor.perfMonitor.navTiming,b=null;if(d){var b={},c;for(c in d)f(d,c)&&(b[c]=d[c]);b.initiatorType="other";b.name=document.URL;b.navigationStart&&!b.startTime&&(b.startTime=b.navigationStart);b.isBase=!0}return b};return d}();e.ResourceTimingInfoBuilder=
c;var b=function(){function a(){this.tg=1}a.prototype.kc=function(a,d){a[d]||(a[d]=this.tg++);return a[d]};return a}();c.Ka()})(a.events||(a.events={}))})(g||(g={}));(function(a){a=a.beacons||(a.beacons={});a.numBeaconsSent=0;a.beaconsSent=[]})(g||(g={}));(function(a){(function(e){var f=function(){function c(){}c.prototype.send=function(b,d){var h=(d?a.conf.beaconUrlHttps:a.conf.beaconUrlHttp)+a.conf.corsEndpointPath+"/"+a.conf.appKey+"/adrum",c;a.utils.isDefined(a.xhrConstructor)&&a.utils.isDefined(a.xhrOpen)?
(c=new a.xhrConstructor,a.xhrOpen.call(c,"POST",h)):(c=new XMLHttpRequest,c.open("POST",h));c.setRequestHeader("Content-type","text/plain");var f=a.utils.Q(b);null!=f&&(c.send(f),a.log("M70"+h+"\n"),a.log("<hr/>"),a.isDebug&&e.beaconsSent.push(b),e.numBeaconsSent+=1)};return c}();e.Fd=f})(a.beacons||(a.beacons={}))})(g||(g={}));g||(g={});(function(a){var e=function(){function e(a,b,d){this.ja=a;this.Uf=b;this.fb=d}e.prototype.pc=function(){try{return e.lc(this.Uf.ADRUM)}catch(c){return a.error("M71"),
e.lc(a)}};e.lc=function(a){return a.correlation.getPageGUID()};return e}();a.Cd=e})(g||(g={}));(function(a){a.beacons||(a.beacons={})})(g||(g={}));(function(a){(function(a){var f=function(){function c(){this.count=0;this.M={}}c.prototype.N=function(b){if(a.hasOwnPropertyDefined(this.M,b))return this.M[b];this.M[b]=this.count;this.count++;return this.count-1};c.prototype.jc=function(){var b=[],d;for(d in this.M)a.hasOwnPropertyDefined(this.M,d)&&(b[this.M[d]]=d);return b};return c}();a.wb=f})(a.utils||
(a.utils={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.Wg=function(a){a=a||"";var d=a.match(/([^:\/?#]+:\/\/)?([^?#]+)?(\?[^#]+)?(#.+)?/);return d&&d[0]==a?(a={},d[1]&&(a.protocol=d[1].substring(0,d[1].length-3)),d[2]&&(a.path=d[2]),d[3]&&(a.Sc=d[3].substring(1)),d[4]&&(a.anchor=d[4].substring(1)),a):null};a.rf=function(b,d){var h=a.Wg(b);if(null!=h){var e="";h.protocol&&(e+=d.N(h.protocol),e+="://");if(h.path)for(var f=h.path.split("/"),g=f.length,p=0;p<g;p++){var n=
f[p];0<n.length&&(e+=d.N(n));p!=g-1&&(e+="/")}h.Sc&&(e=e+"?"+d.N(h.Sc));h.anchor&&(e+="#",e+=d.N(h.anchor));return e}return""+d.N(b)};a.pf=function(a,d){return""+d.N(a)};return a}();a.ob=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(e){(function(e){function c(){var b=null,h=null;try{b=localStorage[d]}catch(c){}if(b)try{b=h=JSON.parse(b),a.utils.isObject(b)&&a.utils.isNumber(b[g])&&-1<b[g]?k=h:a.error("M72")}catch(e){a.exception(e,"M73");try{delete localStorage[d]}catch(f){a.exception(f,
"M74")}}}function b(){try{var b=a.channel,c=k[h]||k[m],e=b&&b.H&&b.H.D&&b.H.D.id||(a.utils.isString(c)?c:a.utils.generateGUID());k[h]=k[m]=e;localStorage[d]=a.utils.Q(k)}catch(f){}}var d="ADRUM_CLIENTINFO",h="agentId",m="clientId",g="seqId",k;c();k||(k={seqId:0});b();e.Df=function(){c();var a=k[g]++;b();return a}})(e.Wb||(e.Wb={}))})(a.cd||(a.cd={}))})(g||(g={}));(function(a){a=a.S||(a.S={});a.P||(a.P={})})(g||(g={}));(function(a){a=a.S||(a.S={});a.P||(a.P={})})(g||(g={}));(function(a){(function(e){(function(e){var c=
function(){function b(d,b,c){this.Ig=0;this.Ua=[];this.uc=!1;this.Of=c;var e=this;a.utils.addEventListener(window,"message",function(a){e.Cg(a)});this.Nf=a.utils.ef(b,d)}b.prototype.Cg=function(d){var b;try{if(b=JSON.parse(d.data),!0===b.success)if(-1===b.id&&"iframe-ready"===b.data)this.uc=!0,this.Of();else{if(this.Ua[b.id])this.Ua[b.id](b.data)}else a.error("M75"+d.data+"]")}catch(c){a.exception(c,"M76")}};b.prototype.send=function(d,b,c,e){if(this.uc){var f=this.Ig++;this.Ua[f]=e;this.Nf.contentWindow.postMessage(a.utils.Q({id:f,
action:d,key:b,value:c}),"*")}};b.prototype.generateGUID=function(a,b){this.send("generateGUID",a,null,b)};return b}();e.Hd=c})(e.P||(e.P={}))})(a.S||(a.S={}))})(g||(g={}));(function(a){(function(e){var f=function(){function d(){this.Pb=new c(d.zd);this.vd=new c(d.Bd);this.qh=new b(d.Ad)}d.prototype.init=function(b){this.channel=b;a.utils.$g()&&a.utils.Zg()?a.utils.ah()&&d.lg()?this.kh():this.pd():d.Lc=!0};d.prototype.pd=function(){var b=this.Pb.load();d.jg(b)||(b={ver:a.conf.agentVer,id:a.utils.generateGUID()},
this.Pb.save(b));d.D=b};d.prototype.kh=function(){var b=this.vd.load();if(d.kg(b))d.D=b;else{a.log("M77");var c=this;this.qh.load(function(b){b&&(b={ver:a.conf.agentVer,id:b,ttl:(new Date).getTime()+d.Jd},c.vd.save(b),d.D=b,a.log("M78"))});c=this;a.utils.tryPeriodically(d.za,function(){return c.isReady()},function(){c.onReady()},function(){c.Oa()})}};d.lg=function(){return a.conf.userConf&&a.conf.userConf.xd&&a.conf.userConf.xd.enable};d.jg=function(a){return a&&a.id&&0<a.id.length};d.kg=function(a){return a&&
a.id&&0<a.id.length&&0===a.id.indexOf("XD_")&&a.ttl>(new Date).getTime()};d.prototype.isReady=function(){return d.Lc||a.utils.isDefined(d.D)};d.prototype.onReady=function(){this.channel.onResolverReady()};d.prototype.Oa=function(){a.log("M79");this.pd();this.channel.onResolverReady()};d.za=function(a){return 10<a?-1:[1,50,100,500][a-1]||1E3};d.zd="ADRUM_AGENT_INFO";d.Bd="ADRUM_XD_AGENT_INFO";d.Ad="ADRUM_XD_AGENT_ID";d.Jd=6048E5;d.Lc=!1;return d}();e.H=f;var c=function(){function d(a){this.Ob=a}d.prototype.load=
function(){var d=null;try{var b=localStorage.getItem(this.Ob);b&&(d=JSON.parse(b))}catch(c){a.exception(c,"M80")}return d};d.prototype.save=function(d){try{var b=a.utils.Q(d);b&&localStorage.setItem(this.Ob,b)}catch(c){a.exception(c,"M81")}};return d}(),b=function(){function d(a){this.Se=a}d.prototype.load=function(d){var b=this;try{var c=new a.S.P.Hd("cross-domain-store-server-iframe",a.conf.adrumXdUrl,function(){c.generateGUID(b.Se,d)})}catch(e){a.exception(e,"M82")}};return d}()})(a.channel||(a.channel=
{}))})(g||(g={}));(function(a){(function(e){var f=a.utils.isString,c=function(){function b(){}b.prototype.Ma=function(d,c,e){d={ver:a.conf.agentVer,dataType:"R",rootGUID:e.pc(),events:d};a.channel.H.D&&a.channel.H.D.id&&(d.agentId=a.channel.H.D.id);c&&(d.geo=c);return b.Gg(d)};b.Gg=function(d){a.isDebug||(d=b.bf(d));return d};b.bf=function(d){var c=new a.utils.wb,m=new a.utils.wb;d=a.utils.Ja(null,d,b.Ia,function(d,g){f(g)&&g.length>a.conf.zb&&(g=g.substr(0,a.conf.zb));b.ig(d)&&(f(g)&&g.length>a.conf.I&&
(g=3<a.conf.I?g.substr(0,a.conf.I-3):"",g+="..."),g=e.ob.rf(g,c));b.ag(d)&&(g=e.ob.pf(g,m));return g},b.sg);d[b.Ia("guids")]=m.jc();d[b.Ia("urlParts")]=c.jc();return d};b.ig=function(a){return"eventUrl"==a||"parentUrl"==a||"pageReferrer"==a||"pageUrl"==a||"u"==a};b.ag=function(a){return"eventGUID"==a||"parentGUID"==a||"rootGUID"==a||"clientRequestGUID"==a};b.Ia=function(d){if(a.conf.od)return d;var b=a.conf.Hc[d];return"undefined"===typeof b?d:b};b.sg=function(a){return 0==(""+a).indexOf("userData")};
return b}();e.Ed=c})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(e){var f=function(){function c(){}c.prototype.send=function(a,d){for(var c=0;c<a.length;c++)this.Pg(a[c],d)};c.prototype.Pg=function(b,d){var c=(d?a.conf.beaconUrlHttps:a.conf.beaconUrlHttp)+a.conf.imageEndpointPath,f=document.createElement("img");try{f.src=c+b}catch(g){}a.isDebug&&e.beaconsSent.push(b);e.numBeaconsSent+=1};return c}();e.Vd=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){a.events||(a.events=
{})})(g||(g={}));(function(a){(function(e){var f=function(){function c(){}c.prototype.make=function(b){var d={eventGUID:b.guid(),eventType:b.type(),eventUrl:a.utils.n.G(b.url()||document.URL),timestamp:(new Date).getTime()};b.type()!==a.EventType.BASE_PAGE&&a.utils.mergeJSON(d,{parentGUID:b.parentGUID()||a.correlation.getPageGUID(),parentUrl:a.utils.n.G(b.parentUrl()||document.URL),parentType:b.parentType()||(a.utils.compareWindows(top,window)?a.EventType.BASE_PAGE:a.EventType.IFRAME)});b=a.EventType[b.type()];
b=e.Ie.Lf(b,a.conf.userConf,a.conf.ve);for(var c in b)d[c]=b[c];return d};return c}();e.aa=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(e){var f=function(){function c(){}c.Ag=function(b,d){var c=!1;if(null!=b&&a.utils.isObject(b)){var e=a.utils.Q(b);if(null==e||e.length<=d)c=!0}c||(a.log("User event info dropped because they are malformed or too long"),"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log("User event info dropped because they are malformed or too long"));
return c};c.Lf=function(b,d,e){var f={};return(b=d&&d.userEventInfo&&d.userEventInfo[b])?(f=a.utils.isFunction(b)?b.call(null,f):b,c.Ag(f,e)?f:{}):{}};return c}();e.Ie=f})(a.events||(a.events={}))})(g||(g={}));var t=this.Ne||function(a,e){function f(){this.constructor=a}for(var c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);f.prototype=e.prototype;a.prototype=new f};(function(a){(function(e){var f=function(c){function b(){c.apply(this,arguments)}t(b,c);b.setPageName=function(a){b.mh=a};b.addUserData=function(a,
c){b.hb=b.hb||{};b.hb[a]=c};b.prototype.make=function(d){d=c.prototype.make.call(this,d||new e.PageView);var h=this.Hf(),f=this.Cf();a.conf.viz&&(h&&a.utils.Ea(document.getElementById(a.conf.viz),h,"navtime"),a.utils.Ea(document.getElementById(a.conf.viz),f,"cookie"));f.PLC=1;h&&(h.PLC=1);0<a.monitor.ErrorMonitor.errorsSent&&(f.EPM=1,h&&(h.EPM=1));a.utils.mergeJSON(d,{eventGUID:a.correlation.getPageGUID(),eventType:a.utils.compareWindows(top,window)?a.EventType.BASE_PAGE:a.EventType.IFRAME,cookieMetrics:f});
var g=-1;h&&h.timestamp?g=h.timestamp:f&&f.timestamp&&(g=f.timestamp);0<g&&a.utils.mergeJSON(d,{timestamp:g});h&&(d.metrics=h);document.referrer&&null!==document.referrer&&0<document.referrer.length&&(d.pageReferrer=a.utils.n.G(document.referrer));h=b.If();0<h.length&&(d.pageTitle=h);h=a.correlation.qc();null!==h&&(d.serverMetadata=h);h=a.monitor.perfMonitor.resTiming?(new e.ResourceTimingInfoBuilder(a.monitor.perfMonitor.resTiming)).build():null;null!==h&&(d.resourceTimingInfo=h);a.utils.isDefined(d.userData)||
(d.userData=b.hb);a.utils.isDefined(d.userPageName)||(d.userPageName=b.mh);b.userPageName=d.userPageName;return d};b.prototype.Hf=function(){if(!a.monitor.perfMonitor.navTiming)return null;var d={},c=b.mc(a.monitor.perfMonitor.navTiming,d,"NT"),f=e.B[a.EventType.BASE_PAGE],g;for(g in f){var k=f[g];c.add(k.name,k.start,k.end)}d.timestamp=a.monitor.perfMonitor.navTiming.navigationStart;return d};b.prototype.Cf=function(){var d={};a.commands.marks&&(b.mc(a.commands.marks,d,"CK").add("PLT","starttime",
"onload").add("FBT","starttime","firstbyte").add("FET","firstbyte","onload").add("DRT","firstbyte","onready").add("PRT","onready","onload").add("DOM","starttime","onready"),d.timestamp=a.commands.marks.starttime?a.commands.marks.starttime:a.commands.marks.firstbyte);return d};b.If=function(){var d=a.conf.userConf,d=d&&d.page,b;b=d&&"captureTitle"in d?d.captureTitle:!0;var c,e;d&&(c="title"in d,e=d.title);c=b?c?a.utils.isFunction(e)?e():e:document.title:"";if(a.utils.isString(c))return c;c="Ignoring wrong type of page title: "+
typeof c;a.log(c);console&&console.log&&console.log(c);return""};b.Oe=function(d,b,c,e,f,g){b=e[b];c=e[c];b&&c?f[d]=c-b:a.log("M83",g,d,b,c)};b.mc=function(a,c,e){var f={add:function(g,p,n){b.Oe(g,p,n,a,c,e);return f}};return f};return b}(e.aa);e.J=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(e){(function(e){function c(e,h){var f,k=h[e],n=typeof k;s.push(e);var C=q[s.join(".")];if(a.utils.isFunction(C))f=C(k);else switch(n){case "string":f="number"==typeof C?p(k,d,C):d(k);break;
case "number":f=r(k);break;case "object":if(k)if(a.utils.isArray(k))f=g(k,!1,!1);else{f=[];for(var u in k)l(k,u)&&(n=c(u,k))&&(b(e)&&"timestamp"==u||f.push({la:u,v:n}));if(b(e)){for(k=0;k<f.length;k++)f[k]=f[k].la+d(":")+f[k].v;f=d("{")+f.join(d(","))+d("}")}else{for(k=0;k<f.length;k++)u=f[k],n=u.la,a.conf.od||((C=a.conf.Hc[u.la])?n=C:a.error("M84",u.la)),f[k]=n+"="+u.v;f=f.join("&")}}else f=null}s.pop();return f}function b(a){return"navOrXhrMetrics"==a||"cookieMetrics"==a}function d(a){return"undefined"===
typeof a||null===a||0===a.length?null:encodeURIComponent(a)}function h(a){return encodeURIComponent(encodeURIComponent(a))}function g(a,b,e){void 0===b&&(b=!1);void 0===e&&(e=!0);if(0===a.length)return null;var h=[];if(b)h=a;else for(b=0;b<a.length;b++)h.push(c(b,a));return d("[")+h.join(d(","))+d(e?">":"]")}function r(a){a=Math.round(a);a<e.Bb&&(a=e.Bb);a>e.yb&&(a=e.yb);return d(a)}function k(a,b){if(a>b||0>a)a=e.ye;return d(a)}function p(d,b,e,c){void 0===c&&(c=!0);if("undefined"===typeof d||null===
d||0===d.length)return null;var h=3<=e?"...":"";a.assert(e>=h.length);for(var f=!1,g=null;;){try{g=b(d);if(null===g)return null;if(g.length<=e)break}catch(m){}var k;f?k=d.length-1:(f=!0,k=e-=h.length);var r=c?0:Math.max(d.length-k,0);d=d.substr(r,k)}f&&(g=c?g+h:h+g);return g}function n(d,b,c){if(0==c)return e.va;if(b<d)return 0;b=e.va+(b-d)/c;a.assert(b>=e.va);a.log("M85",d,b);return b}var l=a.utils.hasOwnPropertyDefined;e.ye=-1;e.I=180;e.le=50;e.me=50;e.ge=40;e.va=50;e.Wd=50;e.Ab=128;e.be=30;e.ce=
30;e.ae=30;e.he=8;e.Bb=-99999;e.yb=999999;e.Xd=2E3;e.ke=2;e.Yd=99999999;var q={".pageUrl":e.I,".parentPageUrl":e.I,".pageReferrer":e.I,".pageTitle":e.le,".userPageName":e.me,".geoCountry":e.be,".geoRegion":e.ce,".geoCity":e.ae,".localIP":e.he,".otherClientRequestGUIDs":function(a){a=a||[];var d=a.slice(0,e.ke);return g(d,!1,d.length<a.length)},".btTime":function(d){d=d||[];for(var b=d.slice(0,a.conf.Zd),c=[],h=0;h<b.length;h++){var q=b[h];c.push(g([k(Number(q[0]),e.Yd),r(q[1]),r(q[2])],!0,!1))}return g(c,
!0,b.length<d.length)},".ajaxError":function(a){return g([h(a[0]),p(a[1],h,e.Wd)],!0,!1)},".userData":function(a){a=a||[];for(var d=!1,b=0,c=[],k=0;k<a.length;k++){var r=a[k];c[k]=g([h(r[0]),h(r[1])],!0,!1);b+=c[k].length;if(b>e.Ab){d=!0;break}}for(;;){a=g(c,!0,d);if(null===a||a.length<=e.Ab)return a;c.pop();d=!0}}},s=[];e.of=function(d,b){void 0===b&&(b=!0);s=[];var k=[];d.errors&&(k=d.errors,d.errors=null);var q=c("",{"":d});if(k&&0<k.length){for(var l=n(b?870:354,e.Xd-q.length,k.length),C=[],u=
0;u<k.length;u++){var t=k[u],A=a.utils.n.ec(a.utils.n.G(t[0]));C.push(g([p(A,h,e.ge,!1),r(t[1]),p(t[2],h,l)],!0,!1))}k=g(C,!0,!1);q+="&errors="+k}return q};e.Jh=c;e.ci=d;e.element=h;e.Dh=g;e.Fh=r;e.Vh=k;e.truncate=p;e.$h=n})(e.vb||(e.vb={}))})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(e){var f=a.utils.hasOwnPropertyDefined,c=function(){function b(){}b.prototype.Ma=function(d,c,f){for(var g=[],k=[],p=null,n=[],l=0;l<d.length;l++){var q=d[l];if(q.eventType===a.EventType.PAGE_ERROR){var s=
q;k.push([q.eventUrl,s.line,s.message])}else{if(q.eventType===a.EventType.BASE_PAGE||q.eventType===a.EventType.IFRAME)p=q;n.push(q)}}d=n;if(0<k.length)for(p&&(p.errors=k.splice(0,a.conf.ee));0<k.length;)q=k.splice(0,a.conf.de),p=b.Dg.make(),p.errors=q,p.isErrorEvent=!0,p.cookieMetrics=null,p.metrics=null,p.resourceTimingInfo=null,d.push(p);for(k=0;k<d.length;k++)q=d[k],a.log("M86"),q.resourceTimingInfo=null,b.yf(q,c,f),p=b.transform(q),g.push(e.vb.of(p,q.isErrorEvent));return g};b.yf=function(d,b,
c){d.ver=this.Rd;d.rootGUID=c.pc();d.geo=b;d.dataType="R";d.eom=1;d.eumAppKey=a.conf.appKey;d.PLC=1};b.transform=function(a){var c={};b.sd("",{"":a},c);return c};b.sd=function(d,c,e){c=c[d];var g=b.Ec[d];if("metrics"===d||"cookieMetrics"===d)e[g]=c;else if("btTime"===d&&a.utils.isArray(c)&&0<c.length){d=[];for(var k=0;k<c.length;k++)d.push([c[k].id,c[k].duration,c[k].ert]);e[g]=d}else if("userData"===d&&a.utils.isObject(c))e[g]=a.utils.pg(c);else if(a.utils.isObject(c))for(k in c)f(c,k)&&b.sd(k,c,
e);else b.Ec[d]&&("eventType"===d&&c>a.EventType.XHR&&(c=a.utils.compareWindows(top,window)?a.EventType.BASE_PAGE:a.EventType.IFRAME),e[g]=c)};b.Dg=new a.events.J;b.Rd=3;b.Ec={eumAppKey:"eumAppKey",userPageName:"userPageName",rootGUID:"baseGUID",parentGUID:"parentGUID",parentUrl:"parentPageUrl",parentType:"parentPageType",parentLifecyclePhase:"parentLifecyclePhase",eventType:"pageType",eventUrl:"pageUrl",pageReferrer:"pageReferrer",pageTitle:"pageTitle",metrics:"navOrXhrMetrics",xhrMetrics:"navOrXhrMetrics",
resourceTimingInfo:"resourceTimingInfo",cookieMetrics:"cookieMetrics",userData:"userData",errors:"errors",ajaxError:"ajaxError",dataType:"dataType",country:"geoCountry",region:"geoRegion",city:"geoCity",localIP:"localIP",ver:"ver",eom:"eom",eventGUID:"clientRequestGUID",otherClientRequestGUIDs:"otherClientRequestGUIDs",btTime:"btTime",serverSnapshotType:"serverSnapshotType",hasEntryPointErrors:"hasEntryPointErrors"};return b}();e.Ud=c})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(a){var f=
function(){function a(){}a.prototype.send=function(){};return a}();a.Md=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){(function(a){var f=function(){function a(){}a.prototype.Ma=function(){return null};return a}();a.Ld=f})(a.beacons||(a.beacons={}))})(g||(g={}));(function(a){var e=function(){function e(){}e.Yb=function(c,b){if(!c)return null;var d=c.ADRUM.lifecycle;if(!d||!d.getPhaseCallbackTime)return null;var e=b.getPhaseCallbackTime("AT_ONLOAD"),d=d.getPhaseCallbackTime("AT_ONLOAD"),
f=null==d;return null==e?(a.error("M87"),null):a.lifecycle.getPhaseID(f||e<=d?"AFTER_FIRST_BYTE":"AFTER_ONLOAD")};return e}();a.Ae=e;a.cPLPI=e.Yb})(g||(g={}));(function(a){(function(e){var f=function(){function c(b){this.ready=!1;this.geoResolverUrl=b;a.utils.isString(b)&&0<a.utils.trim(b).length&&(this.geoResolverUrl=b+"/resolve.js")}c.prototype.init=function(b){this.channel=b;if(this.Ca()&&(a.geo=this.eb(),this.Te()||this.ma()&&!this.hc())){this.channel.Ya(a.geo.result);return}this.hc()?(this.ma()&&
(this.geoResolverUrl+="?ip="+encodeURIComponent(a.conf.userConf.geo.localIP)),this.lh()):(this.ready=!0,this.channel.onResolverReady())};c.prototype.Ca=function(){return a.utils.isDefined(a.conf.userConf)&&a.utils.isDefined(a.conf.userConf.geo)};c.prototype.ma=function(){return this.Ca()&&a.utils.isDefined(a.conf.userConf.geo.localIP)&&!a.utils.isDefined(a.conf.userConf.geo.city)&&!a.utils.isDefined(a.conf.userConf.geo.region)&&!a.utils.isDefined(a.conf.userConf.geo.country)};c.prototype.eb=function(){return{failed:!1,
result:{country:a.conf.userConf.geo.country,region:a.conf.userConf.geo.region,city:a.conf.userConf.geo.city,localIP:this.qf(a.conf.userConf.geo.localIP)}}};c.prototype.Te=function(){return this.Ca()&&a.utils.isDefined(a.conf.userConf.geo.localIP)&&a.utils.isDefined(a.conf.userConf.geo.city)&&a.utils.isDefined(a.conf.userConf.geo.region)&&a.utils.isDefined(a.conf.userConf.geo.country)};c.prototype.hc=function(){return a.utils.isString(this.geoResolverUrl)&&0<a.utils.trim(this.geoResolverUrl).length};
c.prototype.qf=function(a){if(null==a||0==a.length)return null;a=a.split(".");if(4!=a.length)return null;for(var d=[],c=0;c<a.length;c++){var e=parseInt(a[c]);if(isNaN(e)||0>e||255<e)return null;d.push(("0"+e.toString(16)).slice(-2))}return d.join("")};c.prototype.lh=function(){a.geo={failed:!1,result:null};a.utils.loadScriptAsync(this.geoResolverUrl);var b=this;a.utils.tryPeriodically(c.za,function(){return b.isReady()},function(){b.onReady()},function(){b.Oa()})};c.prototype.isReady=function(){this.ready||
(this.ready=a.geo&&(a.geo.failed||null!==a.geo.result))||a.log("M88");return this.ready};c.prototype.onReady=function(){a.geo.failed?(a.log("M89"),this.ma()&&(a.geo=this.eb())):(a.assert("object"===typeof a.geo.result),a.log("M90",a.geo.result));a.geo&&a.geo.result&&this.channel.Ya(a.geo.result);this.channel.onResolverReady()};c.prototype.Oa=function(){a.log("M91");this.ma()&&(a.geo=this.eb());a.geo&&a.geo.result&&this.channel.Ya(a.geo.result);this.ready=!0;this.channel.onResolverReady()};c.za=function(a){return 10<
a?-1:[1,50,100,500][a-1]||1E3};return c}();e.Pd=f})(a.channel||(a.channel={}))})(g||(g={}));(function(a){(function(e){var f=function(){function c(){this.ready=!1;this.channel=null}c.prototype.init=function(b){this.channel=b;c.p=c.p||c.Af();this.ready=!c.p.ja;var d=this;if(c.p.ja)a.log("M92"),c.p.ja.ADRUM.command("listenForOkToSendChildFrameBeacons",function(){a.log("M93");d.ready=!0;d.onReady()});else d.onReady()};c.prototype.isReady=function(){this.isReady||a.log("M94");return this.ready};c.prototype.onReady=
function(){this.channel.Qg(c.p);this.channel.onResolverReady()};c.Af=function(){for(var b=window,d,e=c.Bc(b),f=window;!a.utils.compareWindows(f,f.parent);){f=f.parent;e=e||c.Bc(f);try{f.ADRUM&&(d=d||f,b=f)}catch(g){}}return new a.Cd(d,b,e)};c.Bc=function(a){try{return 0==a.document.URL.indexOf("https:")}catch(d){}};c.p=null;return c}();e.Dd=f})(a.channel||(a.channel={}))})(g||(g={}));(function(a){(function(e){var f=function(){function b(d,b,c){this.events=[];this.K={};this.ia=NaN;this.F=[];this.Ga=
!1;this.bufferMode=a.conf.userConf&&a.conf.userConf.channel&&"undefined"!==typeof a.conf.userConf.channel.bufferMode?a.conf.userConf.channel.bufferMode:!0;this.qa=-1;this.eh=d;this.Ue=b;this.F.push(new e.Pd(c));this.F.push(new e.Dd);this.F.push(new e.H)}b.create=function(){var d,c;b.Yf()&&!b.bg()?(d=new a.beacons.Fd,c=new a.beacons.Ed):b.dg()?(d=new a.beacons.Md,c=new a.beacons.Ld):(d=new a.beacons.Vd,c=new a.beacons.Ud);d=new b(d,c,a.conf.geoResolverUrl);d.init();return d};b.prototype.init=function(){for(var a=
0;a<this.F.length;a++)this.F[a].init(this)};b.prototype.ph=function(d){return(d.parentType===a.EventType.VIRTUAL_PAGE||d.parentType===a.EventType.NG_VIRTUAL_PAGE)&&null!==this.K[d.parentGUID]};b.prototype.Hg=function(d){var b=d.parentGUID;if(!a.utils.isDefined(this.K[b])){this.K[b]=[];var c=this,e=d.eventGUID;setTimeout(function(){c.Da(e)},1E4)}this.K[b].push(d)};b.prototype.report=function(d){d.sequenceId=a.cd.Wb.Df();d.timestamp=d.timestamp||a.utils.now();this.ph(d)?this.Hg(d):this.events.push(d);
1==this.events.length&&(this.ia=a.utils.now());var c=d.parentGUID;c&&c!==a.correlation.getPageGUID()||this.Da(d.eventGUID);b.cg(d)&&(this.Ga=!0);this.bb()};b.prototype.Da=function(a){var b=this.K[a];this.K[a]=null;if(b&&0!=b.length)for(this.events=this.events.concat(b),a=0;a<b.length;a++)this.Da(b[a].eventGUID)};b.prototype.eg=function(d){return d.eventType===a.EventType.BASE_PAGE||d.eventType===a.EventType.IFRAME};b.prototype.Ve=function(){for(var d=0;d<this.events.length;d++){var b=this.events[d];
if(this.eg(b)){var c=this.p.ja;c&&(b.parentLifecyclePhase=a.Ae.Yb(c,a.lifecycle),b.parentGUID=c.ADRUM.correlation.getPageGUID(),b.parentUrl=a.utils.n.G(c.document.URL),a.utils.isDefined(c.ADRUM.events.J.userPageName)&&(b.parentPageName=c.ADRUM.events.J.userPageName),b.parentType=a.utils.compareWindows(top,c)?a.EventType.BASE_PAGE:a.EventType.IFRAME)}}};b.prototype.Og=function(){if(0==this.events.length)a.log("M95");else{this.Ve();var d=this.fb(this.events,this.p),b=this.Ue.Ma(this.events,this.zf,
this.p);this.eh.send(b,d);this.events=[];this.ia=Number.POSITIVE_INFINITY}};b.prototype.onResolverReady=function(){this.bb()};b.prototype.Ya=function(a){this.zf=a};b.prototype.Qg=function(a){this.p=a};b.prototype.addResolver=function(a){a.init(this);this.F.push(a)};b.prototype.Kg=function(){for(var a=0;a<this.F.length;a++)if(!this.F[a].isReady())return!1;return!0};b.prototype.Dc=function(){return this.ia+a.conf.xb>a.utils.now()};b.prototype.gg=function(){return this.events.length<a.conf.$d};b.prototype.fb=
function(a,b){if(b.fb)return!0;for(var c=0;c<a.length;c++){var e=a[c];if(e.eventUrl&&0==e.eventUrl.indexOf("https:"))return!0}};b.prototype.getEventsWithParentGUID=function(a){return this.K[a]||[]};b.prototype.bb=function(){if(this.Kg())if(this.oh()){if(this.Dc()&&0<this.events.length&&0>this.qa){var b=this;this.qa=setTimeout(function(){b.bb()},a.conf.xb+this.ia-a.utils.now())}}else clearTimeout(this.qa),this.qa=-1,this.Ga=!1,this.Og()};b.cg=function(b){return b.eventType===a.EventType.BASE_PAGE||
b.eventType===a.EventType.IFRAME||b.eventType===a.EventType.VIRTUAL_PAGE};b.prototype.oh=function(){return this.bufferMode&&!this.Ga&&this.gg()&&this.Dc()};b.Yf=function(){var a="undefined"!==typeof JSON&&!(!JSON||!JSON.stringify);return window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&a};b.bg=function(){return"true"===a.conf.sendImageBeacon||!0===window["adrum-send-image-beacon"]};b.dg=function(){return a.conf.userConf&&a.conf.userConf.beacon&&a.conf.userConf.beacon.neverSendImageBeacon};
return b}();e.Channel=f;var c=f.create();e.report=function(a){c.report(a)};e.addResolver=function(a){c.addResolver(a)};e.getEventsWithParentGUID=function(a){return c.getEventsWithParentGUID(a)}})(a.channel||(a.channel={}))})(g||(g={}));(function(a){var e=function(){function e(){}e.Qc=function(){return window.attachEvent?window.addEventListener?this.gb:this.ld:this.nd};e.Pc=function(c){var b=null;switch(e.Qc()){case e.nd:b=c.parentPhase();break;case e.gb:b=a.lifecycle.findPhaseAtNominalTime(c.getSendTime());
break;case e.ld:b=null}return a.lifecycle.getPhaseID(b)};e.nd="uCT";e.gb="uNET";e.ld="tIA";return e}();a.fa=e})(g||(g={}));(function(a){(function(e){var f=a.utils.hasOwnPropertyDefined,c=function(b){function d(){b.apply(this,arguments)}t(d,b);d.prototype.make=function(c){var f=b.prototype.make.call(this,c),g=c.url(),k=c.getSendTime(),p=c.getFirstByteTime(),n=c.getRespAvailTime(),l=c.getRespProcTime();a.assert(null!==g&&null!==k&&null!==p&&null!==n&&null!==l,"missing some pieces of XHR data: url="+
g+", send="+k+", fbt="+p+", rat="+n+", eut="+l+", parentPhase="+c.parentPhase());if(null===g||null===k||null===p||null===n||null===l)return null;g=c.error();k={PLC:1,FBT:p-k,DDT:n-p,DPT:l-n,PLT:l-k,ARE:g?1:0};p=c.url();if(!d.mg(k,p))return null;a.conf.viz&&a.utils.Ea(document.getElementById(a.conf.viz),k,"xhr");a.utils.mergeJSON(f,{eventUrl:a.utils.n.G(p),parentType:c.parentType()||a.EventType.BASE_PAGE,parentLifecyclePhase:c.parentPhaseId(),metrics:k,method:c.method(),timestamp:c.timestamp(),ajaxError:g&&
[g.status,g.msg||""]});a.utils.Rg(f,e.J.userPageName);return f};d.mg=function(b,d){for(var c in b)if(f(b,c)){var e=b[c];if(0>e)return a.error("XHR "+c+" ["+e+"] "+d),!1}return!0};return d}(e.aa);e.Kb=c})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(e){var f=function(c){function b(){c.apply(this,arguments)}t(b,c);b.prototype.make=function(b){var e=c.prototype.make.call(this,b);e&&(b=b.xhr().getAllResponseHeaders(),(b=a.correlation.Kf(b))&&null!==b&&null!==b.clientRequestGUID&&(e.eventGUID=
b.clientRequestGUID),null!==b&&(e.serverMetadata=b));return e};return b}(e.Kb);e.yd=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(e){var f=function(c){function b(){c.apply(this,arguments)}t(b,c);b.prototype.make=function(b){var e=c.prototype.make.call(this,b);a.utils.mergeJSON(e,{message:b.msg()||"",timestamp:b.timestamp(),line:b.line(),stack:b.stack()});return e};return b}(e.aa);e.ze=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){(function(f){f.build=function(c){var b=
{},d=a.B[c.type()],f;for(f in d){var g=d[f];if(null!==g.name&&c.perf.getEntryByName(g.start)&&c.perf.getEntryByName(g.end)){c.perf.measure(g.name,g.start,g.end);var r=c.perf.getEntryByName(g.name);b[g.name]=r&&0<=r.duration&&r.duration||null}}for(f in b)b[f]=Math.round(b[f]);return b}})(a.Hb||(a.Hb={}))})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(c){function b(){c.apply(this,arguments)}t(b,c);b.prototype.make=function(b){var f=c.prototype.make.call(this,b),g=a.Hb.build(b);
g.PLC=1;f.metrics=g;f.timestamp=b.timestamp();b=(new a.ResourceTimingInfoBuilder(b.resTiming())).build();null!==b&&(f.resourceTimingInfo=b);return f};return b}(a.aa);a.Jb=f})(a.events||(a.events={}))})(g||(g={}));(function(a){(function(a){var f=function(a){function b(){a.apply(this,arguments)}t(b,a);b.prototype.make=function(b){var e=a.prototype.make.call(this,b);e&&(e.metrics.VDC=b.digestCount()||0);return e};return b}(a.Jb);a.xe=f})(a.events||(a.events={}))})(g||(g={}));(function(a){var e=a.events||
(a.events={});e.Sa={};a=[{R:e.PageView,O:new e.J},{R:e.Ajax,O:new e.Kb},{R:e.AdrumAjax,O:new e.yd},{R:e.Error,O:new e.ze},{R:e.VPageView,O:new e.Jb},{R:a.ng.NgVPageView,O:new e.xe}];for(var f=0;f<a.length;f++){var c=a[f];c.R.prototype._regId=f;e.Sa[f]=c.O}})(g||(g={}));(function(a){(function(e){e.reportEvent=function(e){var c=!!a.events.Sa[e._regId];c||a.log("M97"+a.EventType[a.eventType]);c&&(c=a.events.Sa[e._regId].make(e),a.utils.isDefined(c)&&(a.log("M96",a.EventType[e.type()]),a.channel.report(c)))}})(a.reporter||
(a.reporter={}))})(g||(g={}));(function(a){(function(e){var f=function(){function c(){this.ready=!1}c.prototype.onReady=function(a){this.ready=a;this.channel.onResolverReady()};c.prototype.isReady=function(){this.ready||a.log("M98");return this.ready};c.prototype.init=function(a){this.channel=a};return c}();e.Me=f})(a.commands||(a.commands={}))})(g||(g={}));(function(a){(function(e){var f=new e.Me;a.channel.addResolver(f);e.marks={};e.mark=function(c,b){a.log("M99",c,b);e.marks[c]=b};e.reportOnload=
function(c){setTimeout(function(){a.log("M100");f.onReady(!0);a.reporter.reportEvent(c)},a.conf.Ke)};e.reportEvent=function(){a.reporter.reportEvent.apply(a.reporter,arguments)};e.addResolver=function(c){a.channel.addResolver(c)};e.reportXhr=function(c){a.log("M101");a.fa.Qc()==a.fa.gb?(a.log("M102"),setTimeout(function(){c.parentPhaseId(a.fa.Pc(c));a.reporter.reportEvent(c)},0)):(c.parentPhaseId(a.fa.Pc(c)),a.reporter.reportEvent(c))};e.listenForOkToSendChildFrameBeacons=function(c){a.log("M103");
try{c()}catch(b){a.exception(b,"M104")}};e.reportPageError=function(c){var b=c.url();a.log("M105",c.msg(),b,c.line(),c.stack());b&&0!==b.length||c.url("CROSSORIGIN");a.reporter.reportEvent(c)};e.setPageName=function(c){a.events.J.setPageName(c)};e.addUserData=function(c,b){a.events.J.addUserData(c,b)};e.call=function(a){a()}})(a.commands||(a.commands={}))})(g||(g={}));(function(a){(function(a){a.cc=function(f){return encodeURIComponent(a.n.zg(f))}})(a.utils||(a.utils={}))})(g||(g={}));(function(a){(function(e){var f=
function(){function c(){}c.prototype.setUp=function(){this.qg();a.utils.addEventListener(window,"pagehide",c.mb);a.utils.addEventListener(window,"beforeunload",c.mb);a.utils.addEventListener(window,"unload",c.mb)};c.prototype.qg=function(){(this.startTime=c.wf()||c.vf())&&a.commands.mark("starttime",this.startTime)};c.wf=function(){var b;try{if(a.utils.isDefined(window.external)&&a.utils.isNumber(window.external.pageT))b=(new Date).getTime()-window.external.pageT;else if(a.utils.isDefined(window.sc)&&
a.utils.isFunction(window.sc.pageT)){var d=window.sc.pageT();a.utils.isNumber(d)&&(b=(new Date).getTime()-d)}else a.utils.isDefined(window.chrome)&&a.utils.isFunction(window.chrome.csi)&&(d=window.chrome.csi(),a.utils.isDefined(d)&&a.utils.isNumber(d.pageT)&&(b=(new Date).getTime()-d.pageT));b&&(b=Math.round(b),a.log("M106",b))}catch(c){a.exception(c,"M107")}return b};c.vf=function(){var b=a.correlation.startTimeCookie;if(b){a.log("M108",b.startTime,b.startPage);var d=a.utils.cc(document.referrer);
if(d===b.startPage)if(isNaN(b.startTime))a.log("M109",b.startTime);else return b.startTime;else a.log("M110",d,b.startPage)}else a.log("M111")};c.kf=function(b,d){var c=document.domain,e="https:"===document.location.protocol,f="ADRUM=s="+Number(new Date)+"&r="+a.utils.cc(document.location.href),g=f+";path=/";e&&(g+=";secure");a.log("M112",f);if(!a.conf.useStrictDomainCookies){for(var e=b(),c=c.split("."),p="",n=c.length-1;0<=n;n--){p="."+c[n]+p;a.log("M113",p);d(g+";domain="+p);var l=b();if(l!=e&&
0<=l.indexOf(f)){a.log("M114");a.log("M115");return}}a.log("M116")}a.log("M117");d(g);a.log("M118")};c.mb=function(){var a=!1;return function(){a||(a=!0,c.kf(function(){return document.cookie},function(a){document.cookie=a}))}}();return c}();e.zh=f;e.Yg=new f})(a.monitor||(a.monitor={}))})(g||(g={}));(function(a){a.log("M119");a.monitor.Yg.setUp();a.q.processQ();a.initEXTDone=!0;a.log("M120")})(g||(g={}))}};})();
